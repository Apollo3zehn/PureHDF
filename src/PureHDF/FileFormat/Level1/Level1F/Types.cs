internal record struct LinearIndexResult(bool Success, ulong LinearIndex, ulong MaxCount);
internal record struct CoordinatesResult(ulong[] Coordinates, ulong MaxCount);